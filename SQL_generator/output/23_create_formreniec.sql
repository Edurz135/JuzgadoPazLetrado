-- UP
CREATE TABLE FORMRENIEC
(
  ID INT NOT NULL,
  DNI VARCHAR(8) NOT NULL,
  NOMBRES VARCHAR(45) NOT NULL,
  APELLIDOS VARCHAR(45) NOT NULL,
  DIRECCION VARCHAR(100) NOT NULL,
  ESTADOCIVIL_ID INT NOT NULL,
  GRADOINSTRUCCION_ID INT NOT NULL,
  PRIMARY KEY (ID),
  FOREIGN KEY (ESTADOCIVIL_ID) REFERENCES ESTADOCIVIL(ID),
  FOREIGN KEY (GRADOINSTRUCCION_ID) REFERENCES GRADOINSTRUCCION(ID)
);

CREATE SEQUENCE FORMRENIEC_SEQ START WITH 1;

CREATE OR REPLACE TRIGGER FORMRENIEC_PK 
BEFORE INSERT ON FORMRENIEC 
FOR EACH ROW

BEGIN
SELECT FORMRENIEC_SEQ.NEXTVAL
INTO   :new.id
FROM   dual;
END;
/

-- DOWN
DROP SEQUENCE FORMRENIEC_SEQ;
DROP TABLE FORMRENIEC;
