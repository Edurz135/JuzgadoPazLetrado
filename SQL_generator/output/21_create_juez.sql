-- UP
CREATE TABLE JUEZ
(
  ID INT NOT NULL,
  DNI VARCHAR(8) NOT NULL,
  NOMBRES VARCHAR(45) NOT NULL,
  APELLIDOS VARCHAR(45) NOT NULL,
  NRO_COLEGIATURA INT NOT NULL,
  USUARIO VARCHAR(20) NOT NULL,
  CONTRASENA VARCHAR(20) NOT NULL,
  JUZGADO_ID NUMBER(10) NOT NULL,
  SEXO_ID NUMBER(10) NOT NULL,
  PRIMARY KEY (ID),
  FOREIGN KEY (JUZGADO_ID) REFERENCES JUZGADOPAZLETRADO(ID),
  FOREIGN KEY (SEXO_ID) REFERENCES SEXO(ID),
  UNIQUE (USUARIO)
);

CREATE SEQUENCE JUEZ_SEQ START WITH 0;

CREATE OR REPLACE TRIGGER JUEZ_PK 
BEFORE INSERT ON JUEZ 
FOR EACH ROW

BEGIN
SELECT JUEZ_SEQ.NEXTVAL
INTO   :new.id
FROM   dual;
END;
/

-- DOWN
DROP SEQUENCE JUEZ_SEQ;
DROP TABLE JUEZ;
